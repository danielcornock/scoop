(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{wEQX:function(t,n,e){"use strict";e.r(n),e.d(n,"InvestmentsModule",(function(){return at}));var a=e("ofXK"),o=e("3Pt+"),r=e("tyNb"),i=e("zR64"),s=e("PCNd"),c=e("VPM5"),p=e("URDK"),d=e("fXoL"),m=e("nhsl"),l=e("PS5F"),g=e("JqCM"),b=e("AicK"),u=e("TT7+"),f=e("uENB"),x=e("jht6");function v(t,n){1&t&&d.Mb(0,"ngx-form-input-item",7),2&t&&d.ic("formInputField",n.$implicit)}function h(t,n){if(1&t){const t=d.Rb();d.Qb(0,"div",1),d.Qb(1,"form",2),d.Yb("ngSubmit",(function(){return d.nc(t),d.ac().submitForm()})),d.Mb(2,"app-information",3),d.wc(3,v,1,1,"ngx-form-input-item",4),d.Mb(4,"app-form-errors",5),d.Mb(5,"app-form-submit",6),d.Pb(),d.Pb()}if(2&t){const t=d.ac();d.zb(1),d.ic("formGroup",t.form.formGroup),d.zb(2),d.ic("ngForOf",t.form.fields),d.zb(1),d.ic("appFormErrors",t.errors),d.zb(1),d.ic("form",t.form.formGroup)}}let y=(()=>{class t extends p.a{constructor(t,n,e,a,o,r){super(o,e,a,r,"investments"),this._formFactory=t,this._currentDateService=n}ngOnInit(){super.ngOnInit()}_createForm(){const t=this._currentDateService.getCurrentMonthAndYearForForm();return this._formFactory.createForm([{name:"date",type:i.h.MONTH,label:"Month",defaultValue:t,validators:{required:!0}},{name:"addedSinceLast",type:i.h.NUMBER,label:"Money added to investments this month",validators:{required:!0}},{name:"totalValue",type:i.h.NUMBER,label:"Current value of your investments",validators:{required:!0}}])}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(i.a),d.Lb(m.a),d.Lb(l.a),d.Lb(r.c),d.Lb(g.c),d.Lb(b.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments-entry-form"]],features:[d.wb],decls:1,vars:1,consts:[["class","InvestmentsEntryForm-container animate-page-in",4,"ngIf"],[1,"InvestmentsEntryForm-container","animate-page-in"],[1,"InvestmentsEntryForm-form",3,"formGroup","ngSubmit"],["informationMessage","If this is your first investment entry, the amount added to investments should be your total contribution so far.",1,"InvestmentsEntryForm-message"],[3,"formInputField",4,"ngFor","ngForOf"],[3,"appFormErrors"],["value","Save Investment Entry",1,"InvestmentsEntryForm-submit",3,"form"],[3,"formInputField"]],template:function(t,n){1&t&&d.wc(0,h,6,4,"div",0),2&t&&d.ic("ngIf",n.form)},directives:[a.m,o.u,o.k,o.e,u.a,a.l,f.a,x.a,i.d],styles:['@keyframes zoom-in{0%{transform:scale(0)}to{transform:scale(1)}}.mat-menu-panel[_ngcontent-%COMP%]{min-height:0!important;border-radius:10px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  .mat-dialog-container{overflow:initial;border-radius:10px;padding:30px;position:relative}@media only screen and (max-width:540px){  .mat-dialog-container{padding:20px 15px}}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:30px}}@media only screen and (max-width:450px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:10px}}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{max-width:100%!important;width:100%}}input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:1}.toast-container[_ngcontent-%COMP%]{top:20px!important;right:20px!important}@media only screen and (max-width:540px){.toast-container[_ngcontent-%COMP%]{top:78px!important}}.ngx-toastr[_ngcontent-%COMP%]{width:400px!important;max-width:calc(100vw - 40px)!important;padding-left:80px!important;background-position:30px!important;border-radius:10px!important}@media only screen and (max-width:540px){.ngx-toastr[_ngcontent-%COMP%]{padding-left:50px!important;background-position:15px!important}}.toast-success[_ngcontent-%COMP%]{background-color:#48bb78!important}.toast-error[_ngcontent-%COMP%]{background-color:#fc8181!important}.toast-info[_ngcontent-%COMP%]{background-color:#6bace8!important}.animate-page-in[_ngcontent-%COMP%]{animation:enter-page .8s forwards}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]{animation:initial}}.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:enter-list .5s forwards;transform-origin:middle}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:initial}}@keyframes enter-list{0%{transform:scale(.9)}to{transform:scale(1)}}@keyframes enter-page{0%{opacity:0}to{opacity:1}}.is-negative[_ngcontent-%COMP%]{position:relative}.is-negative[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#fc8181}@media only screen and (max-width:1024px){.is-negative[_ngcontent-%COMP%]{color:#fc8181!important}.is-negative[_ngcontent-%COMP%]:after{content:normal}}.is-positive[_ngcontent-%COMP%]{position:relative}.is-positive[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#48bb78}@media only screen and (max-width:1024px){.is-positive[_ngcontent-%COMP%]{color:#48bb78!important}.is-positive[_ngcontent-%COMP%]:after{content:normal}}[_ngcontent-%COMP%]:root{--color-form-input-border:rgba(28,128,220,0.3);--color-form-input-border--focus:#6bace8}.InvestmentsEntryForm-container[_ngcontent-%COMP%]{padding:var(--spacing-page-top) var(--spacing-page-side);height:100%}@media only screen and (max-width:540px){.InvestmentsEntryForm-container[_ngcontent-%COMP%]{padding-top:calc(58px + var(--spacing-page-top))}}.InvestmentsEntryForm-form[_ngcontent-%COMP%]{max-width:400px;display:flex;flex-direction:column}@media only screen and (max-width:540px){.InvestmentsEntryForm-form[_ngcontent-%COMP%]{max-width:100%}}.InvestmentsEntryForm-message[_ngcontent-%COMP%]{margin-top:0}@media only screen and (max-width:540px){.InvestmentsEntryForm-submit[_ngcontent-%COMP%]{display:none}}']}),t})();var C=e("mrSG"),P=e("1LVl");function M(t,n){1&t&&d.Mb(0,"ngx-form-input-item",7),2&t&&d.ic("formInputField",n.$implicit)}function _(t,n){if(1&t){const t=d.Rb();d.Qb(0,"div",1),d.Qb(1,"form",2),d.Yb("ngSubmit",(function(){return d.nc(t),d.ac().submitForm()})),d.Mb(2,"app-information",3),d.wc(3,M,1,1,"ngx-form-input-item",4),d.Mb(4,"app-form-errors",5),d.Mb(5,"app-form-submit",6),d.Pb(),d.Pb()}if(2&t){const t=d.ac();d.zb(1),d.ic("formGroup",t.form.formGroup),d.zb(2),d.ic("ngForOf",t.form.fields),d.zb(1),d.ic("appFormErrors",t.errors),d.zb(1),d.ic("form",t.form.formGroup)}}let O=(()=>{class t extends P.a{constructor(t,n,e,a,o){super(t,n,e,a,o,"investments")}ngOnInit(){const t=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Object(C.a)(this,void 0,void 0,(function*(){yield t.ngOnInit.call(this)}))}_createForm({data:t}){return this._formFactory.createForm([{name:"date",type:i.h.MONTH,label:"Month",defaultValue:t.date,disabled:!0,validators:{required:!0}},{name:"addedSinceLast",type:i.h.NUMBER,label:"Money added to investments this month",defaultValue:t.addedSinceLast,validators:{required:!0}},{name:"totalValue",type:i.h.NUMBER,label:"Current value of your investments",defaultValue:t.totalValue,validators:{required:!0}}])}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(i.a),d.Lb(l.a),d.Lb(r.c),d.Lb(r.a),d.Lb(b.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments-update-form"]],features:[d.wb],decls:1,vars:1,consts:[["class","InvestmentsEntryForm-container animate-page-in",4,"ngIf"],[1,"InvestmentsEntryForm-container","animate-page-in"],[1,"InvestmentsEntryForm-form",3,"formGroup","ngSubmit"],["informationMessage","If this is your first investment entry, the amount added to investments should be your total contribution so far.",1,"InvestmentsEntryForm-message"],[3,"formInputField",4,"ngFor","ngForOf"],[3,"appFormErrors"],["value","Save Investment Entry",1,"InvestmentsEntryForm-submit",3,"form"],[3,"formInputField"]],template:function(t,n){1&t&&d.wc(0,_,6,4,"div",0),2&t&&d.ic("ngIf",n.form)},directives:[a.m,o.u,o.k,o.e,u.a,a.l,f.a,x.a,i.d],styles:['@keyframes zoom-in{0%{transform:scale(0)}to{transform:scale(1)}}.mat-menu-panel[_ngcontent-%COMP%]{min-height:0!important;border-radius:10px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  .mat-dialog-container{overflow:initial;border-radius:10px;padding:30px;position:relative}@media only screen and (max-width:540px){  .mat-dialog-container{padding:20px 15px}}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:30px}}@media only screen and (max-width:450px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:10px}}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{max-width:100%!important;width:100%}}input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:1}.toast-container[_ngcontent-%COMP%]{top:20px!important;right:20px!important}@media only screen and (max-width:540px){.toast-container[_ngcontent-%COMP%]{top:78px!important}}.ngx-toastr[_ngcontent-%COMP%]{width:400px!important;max-width:calc(100vw - 40px)!important;padding-left:80px!important;background-position:30px!important;border-radius:10px!important}@media only screen and (max-width:540px){.ngx-toastr[_ngcontent-%COMP%]{padding-left:50px!important;background-position:15px!important}}.toast-success[_ngcontent-%COMP%]{background-color:#48bb78!important}.toast-error[_ngcontent-%COMP%]{background-color:#fc8181!important}.toast-info[_ngcontent-%COMP%]{background-color:#6bace8!important}.animate-page-in[_ngcontent-%COMP%]{animation:enter-page .8s forwards}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]{animation:initial}}.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:enter-list .5s forwards;transform-origin:middle}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:initial}}@keyframes enter-list{0%{transform:scale(.9)}to{transform:scale(1)}}@keyframes enter-page{0%{opacity:0}to{opacity:1}}.is-negative[_ngcontent-%COMP%]{position:relative}.is-negative[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#fc8181}@media only screen and (max-width:1024px){.is-negative[_ngcontent-%COMP%]{color:#fc8181!important}.is-negative[_ngcontent-%COMP%]:after{content:normal}}.is-positive[_ngcontent-%COMP%]{position:relative}.is-positive[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#48bb78}@media only screen and (max-width:1024px){.is-positive[_ngcontent-%COMP%]{color:#48bb78!important}.is-positive[_ngcontent-%COMP%]:after{content:normal}}[_ngcontent-%COMP%]:root{--color-form-input-border:rgba(28,128,220,0.3);--color-form-input-border--focus:#6bace8}.InvestmentsEntryForm-container[_ngcontent-%COMP%]{padding:var(--spacing-page-top) var(--spacing-page-side);height:100%}@media only screen and (max-width:540px){.InvestmentsEntryForm-container[_ngcontent-%COMP%]{padding-top:calc(58px + var(--spacing-page-top))}}.InvestmentsEntryForm-form[_ngcontent-%COMP%]{max-width:400px;display:flex;flex-direction:column}@media only screen and (max-width:540px){.InvestmentsEntryForm-form[_ngcontent-%COMP%]{max-width:100%}}.InvestmentsEntryForm-message[_ngcontent-%COMP%]{margin-top:0}@media only screen and (max-width:540px){.InvestmentsEntryForm-submit[_ngcontent-%COMP%]{display:none}}']}),t})();var w=e("XNiG"),I=e("1G5W"),k=e("B6aI"),F=e("BAlU"),L=e("Fxv7"),z=e("dhrX"),A=e("L21D");let E=(()=>{class t{constructor(t){this._chartService=t}ngOnChanges(){this._processTrendsData(),this._createBarChart()}_processTrendsData(){this._processedTrendsData=[...this.investmentsMonthlyChangeData].reverse().map(t=>({date:t.date,change:t.profitChangeSinceLast}))}_createBarChart(){this._chartService.createBarChart("investmentsMonthlyChange",{labels:this._getArrayOfFields("date"),datasets:[{label:"Change from previous month",data:this._getArrayOfFields("change").map(Math.round),borderColor:"rgba(255,255,255, 0)",backgroundColor:[...L.a],borderWidth:2}]})}_getArrayOfFields(t){const n=this._processedTrendsData.map(n=>n[t]);return n.shift(),n}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(z.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments-monthly-change-card"]],inputs:{investmentsMonthlyChangeData:"investmentsMonthlyChangeData"},features:[d.xb],decls:2,vars:0,consts:[["cardTitle","Monthly Change"],["id","investmentsMonthlyChange"]],template:function(t,n){1&t&&(d.Qb(0,"app-card",0),d.Mb(1,"canvas",1),d.Pb())},directives:[A.a],styles:[""]}),t})();var S=e("0IaG"),D=e("JX91"),Q=e("vkgz"),j=e("MJAZ");let T=(()=>{class t{constructor(){}getPrediction(t){let n=t.startingAmount;const e=1+t.yearlyPercentageReturn/100,a=Array.from(new Array(t.years)).reduce(a=>{const o=12*t.monthlyDeposit;return n+=o,(a+o)*e},t.startingAmount);return{totalInvestmentValue:Math.round(a),totalInvested:Math.round(n),totalProfit:Math.round(a-n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var V=e("DllF"),R=e("r1eF");function G(t,n){1&t&&d.Mb(0,"ngx-form-input-item",9),2&t&&d.ic("formInputField",n.$implicit)}let B=(()=>{class t extends j.a{constructor(t,n,e,a,o){super(n,t),this._formFactory=e,this._investmentsProjectionService=a,this._userSettingsService=o,this.totalProfit=new w.a,this.totalInvested=new w.a,this.totalValue=new w.a}ngOnInit(){return Object(C.a)(this,void 0,void 0,(function*(){this._createForm(),this.preferredCurrency=(yield this._userSettingsService.getUserSettings()).preferredCurrency}))}ngAfterViewInit(){this._calculateResults()}_createForm(){this.form=this._formFactory.createForm([{name:"startingAmount",label:"Starting amount",type:i.h.NUMBER,defaultValue:0},{name:"years",label:"Years",type:i.h.SLIDER,defaultValue:25,customConfig:{min:0,max:50,step:1}},{name:"monthlyDeposit",label:"Monthly deposit",type:i.h.NUMBER,defaultValue:500},{name:"yearlyPercentageReturn",label:"Projected yearly returns (%)",type:i.h.NUMBER,defaultValue:10}])}_calculateResults(){this.form.formGroup.valueChanges.pipe(Object(D.a)(this.form.value),Object(Q.a)(t=>{console.log(t);const n=this._investmentsProjectionService.getPrediction(t);this.totalInvested.next(n.totalInvested),this.totalProfit.next(n.totalProfit),this.totalValue.next(n.totalInvestmentValue)})).subscribe()}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(S.a),d.Lb(S.d),d.Lb(i.a),d.Lb(T),d.Lb(V.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments-projection-modal"]],features:[d.wb],decls:26,vars:26,consts:[[1,"InvestmentsProjectionModal-container"],["modalHeaderText","Investment projections",3,"modalHeaderClose"],[1,"InvestmentsProjectionModal-form",3,"formGroup"],[3,"formInputField",4,"ngFor","ngForOf"],[1,"InvestmentsProjectionModal-results"],[1,"InvestmentsProjectionModal-resultContainer"],[1,"InvestmentsProjectionModal-label"],[1,"InvestmentsProjectionModal-value"],[1,"InvestmentsProjectionModal-resultContainer","profit"],[3,"formInputField"]],template:function(t,n){1&t&&(d.Qb(0,"div",0),d.Qb(1,"app-modal-header",1),d.Yb("modalHeaderClose",(function(){return n.close()})),d.Pb(),d.Qb(2,"form",2),d.wc(3,G,1,1,"ngx-form-input-item",3),d.Pb(),d.Qb(4,"div",4),d.Qb(5,"div",5),d.Qb(6,"p",6),d.yc(7,"Total invested"),d.Pb(),d.Qb(8,"p",7),d.yc(9),d.bc(10,"currency"),d.bc(11,"async"),d.Pb(),d.Pb(),d.Qb(12,"div",5),d.Qb(13,"p",6),d.yc(14,"Total Value"),d.Pb(),d.Qb(15,"p",7),d.yc(16),d.bc(17,"currency"),d.bc(18,"async"),d.Pb(),d.Pb(),d.Qb(19,"div",8),d.Qb(20,"p",6),d.yc(21,"Total profit"),d.Pb(),d.Qb(22,"p",7),d.yc(23),d.bc(24,"currency"),d.bc(25,"async"),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(2),d.ic("formGroup",n.form.formGroup),d.zb(1),d.ic("ngForOf",n.form.fields),d.zb(6),d.Ac(" ",d.fc(10,5,d.cc(11,10,n.totalInvested),n.preferredCurrency,"symbol","1.0-2")," "),d.zb(7),d.Ac(" ",d.fc(17,12,d.cc(18,17,n.totalValue),n.preferredCurrency,"symbol","1.0-2")," "),d.zb(7),d.Ac(" ",d.fc(24,19,d.cc(25,24,n.totalProfit),n.preferredCurrency,"symbol","1.0-2")," "))},directives:[R.a,o.u,o.k,o.e,a.l,i.d],pipes:[a.d,a.b],styles:['@keyframes zoom-in{0%{transform:scale(0)}to{transform:scale(1)}}.mat-menu-panel[_ngcontent-%COMP%]{min-height:0!important;border-radius:10px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  .mat-dialog-container{overflow:initial;border-radius:10px;padding:30px;position:relative}@media only screen and (max-width:540px){  .mat-dialog-container{padding:20px 15px}}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:30px}}@media only screen and (max-width:450px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:10px}}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{max-width:100%!important;width:100%}}input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:1}.toast-container[_ngcontent-%COMP%]{top:20px!important;right:20px!important}@media only screen and (max-width:540px){.toast-container[_ngcontent-%COMP%]{top:78px!important}}.ngx-toastr[_ngcontent-%COMP%]{width:400px!important;max-width:calc(100vw - 40px)!important;padding-left:80px!important;background-position:30px!important;border-radius:10px!important}@media only screen and (max-width:540px){.ngx-toastr[_ngcontent-%COMP%]{padding-left:50px!important;background-position:15px!important}}.toast-success[_ngcontent-%COMP%]{background-color:#48bb78!important}.toast-error[_ngcontent-%COMP%]{background-color:#fc8181!important}.toast-info[_ngcontent-%COMP%]{background-color:#6bace8!important}.animate-page-in[_ngcontent-%COMP%]{animation:enter-page .8s forwards}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]{animation:initial}}.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:enter-list .5s forwards;transform-origin:middle}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:initial}}@keyframes enter-list{0%{transform:scale(.9)}to{transform:scale(1)}}@keyframes enter-page{0%{opacity:0}to{opacity:1}}.is-negative[_ngcontent-%COMP%]{position:relative}.is-negative[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#fc8181}@media only screen and (max-width:1024px){.is-negative[_ngcontent-%COMP%]{color:#fc8181!important}.is-negative[_ngcontent-%COMP%]:after{content:normal}}.is-positive[_ngcontent-%COMP%]{position:relative}.is-positive[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#48bb78}@media only screen and (max-width:1024px){.is-positive[_ngcontent-%COMP%]{color:#48bb78!important}.is-positive[_ngcontent-%COMP%]:after{content:normal}}[_ngcontent-%COMP%]:root{--color-form-input-border:rgba(28,128,220,0.3);--color-form-input-border--focus:#6bace8}.InvestmentsProjectionModal-container[_ngcontent-%COMP%]{width:400px;max-width:100%}.InvestmentsProjectionModal-results[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:10px}.InvestmentsProjectionModal-resultContainer[_ngcontent-%COMP%]{background-color:rgba(54,87,220,.08);border-radius:10px;padding:20px;text-align:center}.InvestmentsProjectionModal-resultContainer.profit[_ngcontent-%COMP%]{grid-column:1/3}.InvestmentsProjectionModal-label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;color:#2b6cb0}.InvestmentsProjectionModal-value[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#3657dc}']}),t})();var Y=e("lTCs");let N=(()=>{class t{constructor(t,n){this._chartService=t,this._modalService=n}ngOnChanges(){this._processTrendsData(),this._createGraphConfig()}ngOnInit(){this.cardActions=[{label:"Get projection",icon:"trending-up",action:this._openProjectionsModal.bind(this)}]}_openProjectionsModal(){this._modalService.open(B,{data:{}})}_createGraphConfig(){this._chartService.createLineChart("investmentTrend",{labels:this._getArrayOfFields("date"),datasets:[{label:"Total Invested",data:this._getArrayOfFields("invested"),borderColor:"rgba(28,128,220, 0.6)",backgroundColor:"transparent",borderWidth:2,borderDash:[5]},{label:"Investment Value",data:this._getArrayOfFields("value"),borderColor:"rgba(28,128,220, 1)",backgroundColor:"rgba(28,128,220, 0.08)",borderWidth:2}]},{yAxisStepSize:void 0})}_getArrayOfFields(t){return this._processedTrendsData.map(n=>n[t])}_processTrendsData(){this._processedTrendsData=[...this.trendsCardData].reverse().map(t=>({date:t.date,invested:t.totalInvested,value:t.totalValue}))}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(z.a),d.Lb(Y.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-trends-card"]],inputs:{trendsCardData:"trendsCardData"},features:[d.xb],decls:2,vars:1,consts:[["cardTitle","Injected vs Portfolio Value",3,"cardActions"],["id","investmentTrend"]],template:function(t,n){1&t&&(d.Qb(0,"app-card",0),d.Mb(1,"canvas",1),d.Pb()),2&t&&d.ic("cardActions",n.cardActions)},directives:[A.a],styles:[".TrendsCard-container[_ngcontent-%COMP%]{display:block}.TrendsCard-chart[_ngcontent-%COMP%]{height:100%;display:block}"]}),t})();var U=e("DFzi"),$=e("U5Aj"),q=e("Xv+k"),J=e("sJgw");function X(t,n){if(1&t){const t=d.Rb();d.Qb(0,"app-table-actions",6),d.Yb("tableActionsRemove",(function(){d.nc(t);const n=d.ac().$implicit;return d.ac().removeLog(n.date)}))("tableActionsEdit",(function(){d.nc(t);const n=d.ac().$implicit;return d.ac().navigateToEditPage(n.date)})),d.Pb()}2&t&&d.ic("tableActionsCanEdit",!0)}function H(t,n){if(1&t){const t=d.Rb();d.Qb(0,"tr",3),d.Yb("click",(function(){d.nc(t);const e=n.$implicit;return d.ac().onLongPress(e.date)})),d.Qb(1,"td",4),d.yc(2),d.bc(3,"date"),d.Pb(),d.Qb(4,"td",4),d.yc(5),d.bc(6,"currency"),d.Pb(),d.Qb(7,"td",4),d.yc(8),d.bc(9,"currency"),d.Pb(),d.Qb(10,"td",4),d.yc(11),d.bc(12,"currency"),d.Pb(),d.Qb(13,"td",4),d.yc(14),d.bc(15,"currency"),d.Pb(),d.Qb(16,"td",4),d.yc(17),d.bc(18,"percent"),d.Pb(),d.Qb(19,"td",4),d.yc(20),d.bc(21,"currency"),d.Pb(),d.wc(22,X,1,1,"app-table-actions",5),d.Pb()}if(2&t){const t=n.$implicit,e=d.ac();d.zb(2),d.Ac(" ",d.dc(3,20,t.date,"MMMM y")," "),d.zb(3),d.Ac(" ",d.fc(6,23,t.addedSinceLast,e.preferredCurrency,"symbol","1.0-2")," "),d.zb(3),d.Ac(" ",d.fc(9,28,t.totalInvested,e.preferredCurrency,"symbol","1.0-2")," "),d.zb(3),d.Ac(" ",d.fc(12,33,t.totalValue,e.preferredCurrency,"symbol","1.0-2")," "),d.zb(2),d.Db("is-negative",t.profit<0)("is-positive",t.profit>0),d.zb(1),d.Ac(" ",d.fc(15,38,t.profit,e.preferredCurrency,"symbol","1.0-2")," "),d.zb(2),d.Db("is-negative",t.profitPercentage<0)("is-positive",t.profitPercentage>0),d.zb(1),d.Ac(" ",d.dc(18,43,t.profitPercentage,"1.0-2")," "),d.zb(2),d.Db("is-negative",t.profitChangeSinceLast<0)("is-positive",t.profitChangeSinceLast>0),d.zb(1),d.Ac(" ",d.fc(21,46,t.profitChangeSinceLast,e.preferredCurrency,"symbol","1.0-2")," "),d.zb(2),d.ic("ngIf",e.isEditing)}}const W=function(){return["Date","Added this month","Total added","Portfolio Value","Returns","Percentage","Change"]};let K=(()=>{class t extends U.a{constructor(t,n,e,a){super(a,e,"investments"),this._store=t,this._popupService=n}ngOnChanges(){this.preferredCurrency=this.investmentsLogCardMeta.preferredCurrency}removeLog(t){return Object(C.a)(this,void 0,void 0,(function*(){try{yield this._store.delete(t)}catch({error:n}){this._popupService.showApiError(n)}}))}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(l.a),d.Lb($.a),d.Lb(Y.a),d.Lb(r.c))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments-log-card"]],inputs:{investmentsLogCardItems:"investmentsLogCardItems",investmentsLogCardMeta:"investmentsLogCardMeta"},features:[d.wb,d.xb],decls:3,vars:4,consts:[["cardTitle","Monthly Log",3,"cardActions"],[3,"tableColumns"],["class","InvestmentsLogCard-row","tabindex","0",3,"click",4,"ngFor","ngForOf"],["tabindex","0",1,"InvestmentsLogCard-row",3,"click"],[1,"InvestmentsLogCard-rowItem"],["class","InvestmentsLogCard-rowItem",3,"tableActionsCanEdit","tableActionsRemove","tableActionsEdit",4,"ngIf"],[1,"InvestmentsLogCard-rowItem",3,"tableActionsCanEdit","tableActionsRemove","tableActionsEdit"]],template:function(t,n){1&t&&(d.Qb(0,"app-card",0),d.Qb(1,"app-table",1),d.wc(2,H,23,51,"tr",2),d.Pb(),d.Pb()),2&t&&(d.ic("cardActions",n.cardActions),d.zb(1),d.ic("tableColumns",d.jc(3,W)),d.zb(1),d.ic("ngForOf",n.investmentsLogCardItems))},directives:[A.a,q.a,a.l,a.m,J.a],pipes:[a.f,a.d,a.r],styles:['@keyframes zoom-in{0%{transform:scale(0)}to{transform:scale(1)}}.mat-menu-panel[_ngcontent-%COMP%]{min-height:0!important;border-radius:10px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  .mat-dialog-container{overflow:initial;border-radius:10px;padding:30px;position:relative}@media only screen and (max-width:540px){  .mat-dialog-container{padding:20px 15px}}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:30px}}@media only screen and (max-width:450px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:10px}}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{max-width:100%!important;width:100%}}input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:1}.toast-container[_ngcontent-%COMP%]{top:20px!important;right:20px!important}@media only screen and (max-width:540px){.toast-container[_ngcontent-%COMP%]{top:78px!important}}.ngx-toastr[_ngcontent-%COMP%]{width:400px!important;max-width:calc(100vw - 40px)!important;padding-left:80px!important;background-position:30px!important;border-radius:10px!important}@media only screen and (max-width:540px){.ngx-toastr[_ngcontent-%COMP%]{padding-left:50px!important;background-position:15px!important}}.toast-success[_ngcontent-%COMP%]{background-color:#48bb78!important}.toast-error[_ngcontent-%COMP%]{background-color:#fc8181!important}.toast-info[_ngcontent-%COMP%]{background-color:#6bace8!important}.animate-page-in[_ngcontent-%COMP%]{animation:enter-page .8s forwards}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]{animation:initial}}.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:enter-list .5s forwards;transform-origin:middle}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:initial}}@keyframes enter-list{0%{transform:scale(.9)}to{transform:scale(1)}}@keyframes enter-page{0%{opacity:0}to{opacity:1}}.is-negative[_ngcontent-%COMP%]{position:relative}.is-negative[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#fc8181}@media only screen and (max-width:1024px){.is-negative[_ngcontent-%COMP%]{color:#fc8181!important}.is-negative[_ngcontent-%COMP%]:after{content:normal}}.is-positive[_ngcontent-%COMP%]{position:relative}.is-positive[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#48bb78}@media only screen and (max-width:1024px){.is-positive[_ngcontent-%COMP%]{color:#48bb78!important}.is-positive[_ngcontent-%COMP%]:after{content:normal}}[_ngcontent-%COMP%]:root{--color-form-input-border:rgba(28,128,220,0.3);--color-form-input-border--focus:#6bace8}.InvestmentsLogCard-row[_ngcontent-%COMP%]{padding:15px 0}.InvestmentsLogCard-row[_ngcontent-%COMP%]:hover{background-color:#eef2fd;cursor:pointer}.InvestmentsLogCard-row[_ngcontent-%COMP%]:focus{outline:0}.InvestmentsLogCard-row[_ngcontent-%COMP%]:focus-visible{outline:2px dashed orange}.InvestmentsLogCard-rowItem[_ngcontent-%COMP%]{color:#5a5a5a;border-top:1px solid #e5e5e5;white-space:nowrap;padding:15px 15px 15px 0}']}),t})();function Z(t,n){1&t&&(d.Qb(0,"p",5),d.yc(1," To get started, create your first investment log "),d.Qb(2,"a",6),d.yc(3,"here"),d.Pb(),d.yc(4,". "),d.Pb())}function tt(t,n){if(1&t&&(d.Qb(0,"div",7),d.Mb(1,"app-dashboard-summary",8),d.Mb(2,"app-investments-monthly-change-card",9),d.Mb(3,"app-trends-card",10),d.Mb(4,"app-investments-log-card",11),d.Pb()),2&t){const t=d.ac(2);d.zb(1),d.ic("dashboardSummaryItems",t.summaryItems),d.zb(1),d.ic("investmentsMonthlyChangeData",t.investmentLogs),d.zb(1),d.ic("trendsCardData",t.investmentLogs),d.zb(1),d.ic("investmentsLogCardItems",t.investmentLogs)("investmentsLogCardMeta",t.investmentsMeta)}}function nt(t,n){if(1&t&&(d.Qb(0,"div",2),d.wc(1,Z,5,0,"p",3),d.wc(2,tt,5,5,"ng-template",null,4,d.xc),d.Pb()),2&t){const t=d.lc(3),n=d.ac();d.zb(1),d.ic("ngIf",!n.investmentLogs.length)("ngIfElse",t)}}const et=[{path:"edit/:date",component:O,canDeactivate:[c.a]},{path:"",component:(()=>{class t{constructor(t,n,e,a){this._store=t,this._currencyPipe=n,this._percentPipe=e,this._router=a,this._destroy$=new w.a}ngOnInit(){return Object(C.a)(this,void 0,void 0,(function*(){this._store.getAll$().pipe(Object(I.a)(this._destroy$)).subscribe(this._assignData.bind(this))}))}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}createNew(){this._router.navigateByUrl("investments/create")}_assignData({data:t,meta:n}){this.investmentLogs=t,this.investmentsMeta=n,this._assignSummaryLogs(t)}_assignSummaryLogs(t){t.length&&(this.summaryItems=[{label:"Total Returns",value:this._toCurrency(t[0].profit),icon:"dollar-sign"},{label:"Percentage Returns",value:this._toPercentage(t[0].profitPercentage),icon:"trending-up"},{label:"Investment Value",value:this._toCurrency(t[0].totalValue),icon:"chevrons-up"},{label:"Invested",value:this._toCurrency(t[0].totalInvested),icon:"save"}])}_toPercentage(t){return this._percentPipe.transform(t,"1.0-2")}_toCurrency(t){return this._currencyPipe.transform(t,this.investmentsMeta.preferredCurrency,"symbol","1.0-0")}}return t.\u0275fac=function(n){return new(n||t)(d.Lb(l.a),d.Lb(a.d),d.Lb(a.r),d.Lb(r.c))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-investments"]],decls:2,vars:1,consts:[["class","Investments-container animate-page-in",4,"ngIf"],["floatingActionButtonText","New log","floatingActionButtonIcon","plus",3,"floatingActionButtonClick"],[1,"Investments-container","animate-page-in"],["class","Investments-noItems",4,"ngIf","ngIfElse"],["content",""],[1,"Investments-noItems"],["routerLink","create"],[1,"Investments-content"],[1,"Investments-section","Investments-summary",3,"dashboardSummaryItems"],[1,"Investments-section","Investments-monthlyChange","animate-list-item",3,"investmentsMonthlyChangeData"],[1,"Investments-section","Investments-trends","animate-list-item",3,"trendsCardData"],[1,"Investments-section","Investments-log","animate-list-item",3,"investmentsLogCardItems","investmentsLogCardMeta"]],template:function(t,n){1&t&&(d.wc(0,nt,4,2,"div",0),d.Qb(1,"app-floating-action-button",1),d.Yb("floatingActionButtonClick",(function(){return n.createNew()})),d.Pb()),2&t&&d.ic("ngIf",n.investmentLogs)},directives:[a.m,k.a,r.e,F.a,E,N,K],styles:['@keyframes zoom-in{0%{transform:scale(0)}to{transform:scale(1)}}.mat-menu-panel[_ngcontent-%COMP%]{min-height:0!important;border-radius:10px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  .mat-dialog-container{overflow:initial;border-radius:10px;padding:30px;position:relative}@media only screen and (max-width:540px){  .mat-dialog-container{padding:20px 15px}}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{overflow-y:auto!important}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:30px}}@media only screen and (max-width:450px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{padding:10px}}@media only screen and (max-width:540px){.cdk-global-overlay-wrapper[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{max-width:100%!important;width:100%}}input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:1}.toast-container[_ngcontent-%COMP%]{top:20px!important;right:20px!important}@media only screen and (max-width:540px){.toast-container[_ngcontent-%COMP%]{top:78px!important}}.ngx-toastr[_ngcontent-%COMP%]{width:400px!important;max-width:calc(100vw - 40px)!important;padding-left:80px!important;background-position:30px!important;border-radius:10px!important}@media only screen and (max-width:540px){.ngx-toastr[_ngcontent-%COMP%]{padding-left:50px!important;background-position:15px!important}}.toast-success[_ngcontent-%COMP%]{background-color:#48bb78!important}.toast-error[_ngcontent-%COMP%]{background-color:#fc8181!important}.toast-info[_ngcontent-%COMP%]{background-color:#6bace8!important}.animate-page-in[_ngcontent-%COMP%]{animation:enter-page .8s forwards}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]{animation:initial}}.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:enter-list .5s forwards;transform-origin:middle}@media (prefers-reduced-motion){.animate-page-in[_ngcontent-%COMP%]   .animate-list-item[_ngcontent-%COMP%]{animation:initial}}@keyframes enter-list{0%{transform:scale(.9)}to{transform:scale(1)}}@keyframes enter-page{0%{opacity:0}to{opacity:1}}.is-negative[_ngcontent-%COMP%]{position:relative}.is-negative[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#fc8181}@media only screen and (max-width:1024px){.is-negative[_ngcontent-%COMP%]{color:#fc8181!important}.is-negative[_ngcontent-%COMP%]:after{content:normal}}.is-positive[_ngcontent-%COMP%]{position:relative}.is-positive[_ngcontent-%COMP%]:after{content:"";position:absolute;height:8px;width:8px;border-radius:9999px;left:-15px;top:50%;transform:translateY(-50%);background-color:#48bb78}@media only screen and (max-width:1024px){.is-positive[_ngcontent-%COMP%]{color:#48bb78!important}.is-positive[_ngcontent-%COMP%]:after{content:normal}}[_ngcontent-%COMP%]:root{--color-form-input-border:rgba(28,128,220,0.3);--color-form-input-border--focus:#6bace8}@media only screen and (max-width:1450px){[_nghost-%COMP%]     .DashboardSummary-container{min-height:350px}}@media only screen and (max-width:540px){[_nghost-%COMP%]     .DashboardSummary-container{min-height:unset}}.Investments-container[_ngcontent-%COMP%]{padding:var(--spacing-page-top) var(--spacing-page-side);height:100%}@media only screen and (max-width:540px){.Investments-container[_ngcontent-%COMP%]{padding-top:calc(58px + var(--spacing-page-top))}}.Investments-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:30px 20px;grid-template-areas:"summary summary" "monthly trends" "log log"}@media only screen and (max-width:1024px){.Investments-content[_ngcontent-%COMP%]{display:block}}.Investments-section[_ngcontent-%COMP%]{display:block;min-width:0}@media only screen and (max-width:1024px){.Investments-section[_ngcontent-%COMP%] + .Investments-section[_ngcontent-%COMP%]{margin-top:20px}}.Investments-monthlyChange[_ngcontent-%COMP%]{grid-area:monthly}.Investments-summary[_ngcontent-%COMP%]{display:block;grid-area:summary}.Investments-stocks[_ngcontent-%COMP%]{grid-area:stocks}.Investments-trends[_ngcontent-%COMP%]{grid-area:trends}.Investments-log[_ngcontent-%COMP%]{grid-area:log}.Investments-noItems[_ngcontent-%COMP%]{color:#5a5a5a;margin-bottom:20px;max-width:700px;line-height:160%;font-size:18px}.Investments-noItems[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3657dc;font-weight:500;text-decoration:none}.Investments-noItems[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']}),t})()},{path:"create",component:y,canDeactivate:[c.a]}];let at=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(n){return new(n||t)},providers:[a.r,a.d],imports:[[a.c,s.a,i.j,o.f,o.q,r.f.forChild(et)]]}),t})()}}]);